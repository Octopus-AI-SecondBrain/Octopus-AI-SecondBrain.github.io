# ================================================
# Octopus AI Second Brain - Backend Configuration
# ================================================

# -----------------
# Environment
# -----------------
ENVIRONMENT=development  # development, staging, production
DEBUG=true
ENABLE_HTTPS=false

# -----------------
# Database (PostgreSQL + pgvector)
# -----------------
DATABASE_URL=postgresql://secondbrain:secondbrain@localhost:5432/secondbrain
DATABASE_ECHO=false
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# -----------------
# Security
# -----------------
# IMPORTANT: Generate a secure secret key with: openssl rand -base64 48
SECRET_KEY=your-secret-key-here-min-32-characters-required-for-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
PASSWORD_MIN_LENGTH=8

# -----------------
# Server
# -----------------
HOST=0.0.0.0
PORT=8000
WORKERS=4
LOG_LEVEL=INFO

# -----------------
# CORS Configuration
# -----------------
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# -----------------
# OpenAI API
# -----------------
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_ORGANIZATION=  # Optional

# -----------------
# HuggingFace (Optional)
# -----------------
HUGGINGFACE_TOKEN=  # Optional for private models

# -----------------
# RAG Embedder Configuration
# -----------------
RAG_EMBEDDER_TEXT_MODEL=sentence-transformers/all-MiniLM-L6-v2
RAG_EMBEDDER_CLIP_MODEL=openai/clip-vit-base-patch32
RAG_EMBEDDER_DEVICE=cpu  # cpu or cuda
RAG_EMBEDDER_BATCH_SIZE=32

# -----------------
# RAG Vector Store (pgvector is default)
# -----------------
RAG_VECTORSTORE_BACKEND=pgvector  # pgvector or faiss
RAG_VECTORSTORE_TABLE_NAME=embeddings
RAG_VECTORSTORE_DIMENSION=384  # Must match embedder output dimension

# Optional FAISS settings (when backend=faiss)
RAG_VECTORSTORE_INDEX_TYPE=Flat  # Flat, IVF100,Flat, HNSW32
RAG_VECTORSTORE_PERSIST_DIR=./data/vector_index
RAG_VECTORSTORE_METRIC=cosine

# -----------------
# RAG Retriever Configuration
# -----------------
RAG_RETRIEVER_TOP_K=10
RAG_RETRIEVER_MIN_SIMILARITY=0.15
RAG_RETRIEVER_MAX_DISTANCE=1.0

# -----------------
# RAG Generator Configuration
# -----------------
RAG_GENERATOR_PROVIDER=openai  # openai or huggingface
RAG_GENERATOR_MODEL_NAME=gpt-3.5-turbo
RAG_GENERATOR_TEMPERATURE=0.7
RAG_GENERATOR_MAX_TOKENS=512
RAG_GENERATOR_TOP_P=0.9

# -----------------
# RAG Ingestion Configuration
# -----------------
RAG_INGEST_BATCH_SIZE=10
RAG_INGEST_MAX_WORKERS=4
RAG_INGEST_CHUNK_SIZE=512
RAG_INGEST_CHUNK_OVERLAP=50

# -----------------
# OCR Configuration (Optional)
# -----------------
RAG_OCR_ENABLED=false
RAG_OCR_LANGUAGE=eng

# -----------------
# Audio/Video Configuration (Optional)
# -----------------
RAG_AUDIO_ENABLED=false
RAG_VIDEO_ENABLED=false
RAG_WHISPER_MODEL=base  # tiny, base, small, medium, large

# -----------------
# Logging
# -----------------
LOG_FILE=  # Optional path to log file
ENABLE_JSON_LOGGING=false

# -----------------
# Rate Limiting
# -----------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT=100/minute
RATE_LIMIT_AUTH=10/minute
RATE_LIMIT_SIGNUP=5/minute

# -----------------
# File Upload
# -----------------
UPLOAD_DIR=./data/uploads
MAX_UPLOAD_SIZE=52428800  # 50MB in bytes
