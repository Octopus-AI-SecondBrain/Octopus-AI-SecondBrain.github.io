<!DOCTYPE html>
<html>
<head>
    <title>Clear Auth and Test</title>
</head>
<body>
    <h1>🧠 Authentication Test</h1>
    <button onclick="clearAuth()">Clear Auth</button>
    <button onclick="testFlow()">Test Full Flow</button>
    <div id="status"></div>
    
    <script>
        function log(msg) {
            document.getElementById('status').innerHTML += '<div>' + msg + '</div>';
        }
        
        function clearAuth() {
            localStorage.removeItem('sb_token');
            localStorage.removeItem('sb_backend');
            log('✅ Cleared authentication data');
        }
        
        async function testFlow() {
            log('🔄 Testing authentication flow...');
            
            // Step 1: Clear auth
            clearAuth();
            
            // Step 2: Try to access main page (should redirect)
            log('📍 Accessing main page...');
            setTimeout(() => {
                window.location.href = './index.html';
            }, 1000);
        }
    </script>
</body>
</html>